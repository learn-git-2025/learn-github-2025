# 代码审查检查清单

## 🔍 审查前准备

- [ ] 阅读 PR 描述，理解变更目标
- [ ] 检查相关 Issue 或设计文档
- [ ] 本地拉取分支进行测试（如有必要）
- [ ] 预估审查时间（小型 PR: 15-30分钟，中型 PR: 30-60分钟）

## 📋 功能正确性

- [ ] 代码是否实现了预期功能？
- [ ] 用户故事/需求是否得到满足？
- [ ] 边界条件是否被正确处理？
- [ ] 错误处理是否完善？
- [ ] 输入验证是否充分？

## 🏗️ 代码质量

### 可读性
- [ ] 代码逻辑是否清晰易懂？
- [ ] 变量和函数命名是否语义化？
- [ ] 复杂逻辑是否有适当注释？
- [ ] 代码结构是否合理？

### 简洁性
- [ ] 是否存在重复代码？
- [ ] 函数是否过长或承担过多职责？
- [ ] 是否有未使用的代码或变量？
- [ ] 是否可以简化复杂的表达式？

## 🎯 架构设计

- [ ] 新代码是否符合现有架构？
- [ ] 模块划分是否合理？
- [ ] 依赖关系是否清晰？
- [ ] 是否遵循 SOLID 原则？
- [ ] 是否有适当的抽象层次？

## ⚡ 性能考虑

- [ ] 是否存在明显的性能问题？
- [ ] 数据库查询是否高效？
- [ ] 算法复杂度是否可接受？
- [ ] 内存使用是否合理？
- [ ] 是否需要考虑缓存？

## 🔐 安全性

- [ ] 输入验证是否充分？
- [ ] 是否存在注入攻击风险？
- [ ] 敏感信息是否被保护？
- [ ] 权限控制是否正确？
- [ ] 是否存在信息泄露风险？

## 🧪 测试覆盖

- [ ] 是否有对应的单元测试？
- [ ] 测试用例是否覆盖主要场景？
- [ ] 边界条件是否被测试？
- [ ] 错误路径是否被测试？
- [ ] 集成测试是否充分？

## 📚 文档和注释

- [ ] API 变更是否更新了文档？
- [ ] 复杂逻辑是否有注释说明？
- [ ] README 是否需要更新？
- [ ] 配置变更是否有说明？

## 🔧 工程实践

- [ ] 是否遵循代码规范？
- [ ] 提交信息是否规范？
- [ ] 是否考虑了向后兼容性？
- [ ] CI/CD 流程是否通过？
- [ ] 是否需要数据库迁移？

## 💬 反馈质量

### 建设性反馈原则
- [ ] 专注于代码而非个人
- [ ] 提供具体的改进建议
- [ ] 说明问题的原因和影响
- [ ] 区分不同优先级的问题

### 反馈分类
- 🔴 **必须修复**: 安全问题、功能错误、破坏性变更
- 🟡 **建议修复**: 性能问题、可读性问题、最佳实践
- 🔵 **考虑修复**: 代码风格、优化建议、可选重构
- 💭 **讨论**: 架构决策、技术选型、实现方案

## ✅ 审查完成

- [ ] 所有关键问题都已标记
- [ ] 正面反馈已给出（好的设计、代码改进等）
- [ ] 选择合适的审查结果：
  - **Comment**: 一般性反馈
  - **Approve**: 批准合并
  - **Request Changes**: 要求修改
- [ ] 考虑是否需要再次审查

## 🎯 常见问题快速检查

### 安全漏洞
```javascript
// ❌ SQL 注入风险
query = "SELECT * FROM users WHERE id = " + userId;

// ✅ 使用参数化查询
query = "SELECT * FROM users WHERE id = ?";
```

### 性能问题
```javascript
// ❌ N+1 查询问题
users.forEach(user => {
  user.posts = getPosts(user.id);
});

// ✅ 批量查询
const userIds = users.map(u => u.id);
const posts = getPostsByUserIds(userIds);
```

### 代码质量
```javascript
// ❌ 魔法数字
if (user.age > 18) { /* ... */ }

// ✅ 使用常量
const MINIMUM_AGE = 18;
if (user.age > MINIMUM_AGE) { /* ... */ }
```

## 📊 审查效率提升

### 工具使用
- [ ] 使用 IDE 插件进行静态检查
- [ ] 利用 GitHub 的审查工具
- [ ] 设置代码规范检查工具

### 团队协作
- [ ] 建立审查轮换制度
- [ ] 设定审查响应时间目标
- [ ] 定期回顾审查效果

---

**记住**: 代码审查不仅是发现问题，更是知识分享和团队成长的机会！ 